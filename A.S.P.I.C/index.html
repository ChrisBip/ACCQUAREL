<!- Page principale du site Web de développement ASPIC -->
<!-- Antoine Le Hyaric - LJLL Paris 6 - lehyaric@ann.jussieu.fr - 13/2/6 -->

<html>
<head>
<title>Informations sur le développement du logiciel A.S.P.I.C</title>

<!-- Même style que documentation/index.html -->
<style>
h1 {color : red}
h1.title {text-align : center}
h2 {color : blue}
h3 {color : green}
</style>

</head>
<body>
<h1 class=title>Informations sur le développement du logiciel A.S.P.I.C</h1>

<p><a href="http://www.ann.jussieu.fr/~lehyaric">Antoine Le
Hyaric</a>
<br><a href="http://www.ann.jussieu.fr">Laboratoire
Jacques-Louis Lions</a>
<br><a href="http://www.upmc.fr">Université
Pierre et Marie Curie</a>
<br>175 rue du Chevaleret, 75013 Paris, France

<h2>Situation actuelle (9/2/7)</h2>

<p>La version 1.1.3 (finale) de François Lodier et le travail de
Frédéric LEGOLL sont en ligne.

<h2>Pointeurs utiles</h2>

<ul>

<li><a href="documentation">Guide de l'utilisateur</a>

<li><a href="documentation/API/html">Guide du développeur</a>

<li>La dernière version du logiciel&nbsp;:
    <ul>
    <li><a href="src">Répertoire "src"</a>

    <li><a href="data">Répertoire "data"</a>

    <li><a href="sample & bin">Répertoire "sample & bin"</a>
    </ul>

<li>Liste de discussion&nbsp;:

<ul>

<li><a href="http://www.ann.jussieu.fr/mailman/listinfo/aspic">Page
d'information</a>

<li><a href="http://www.ann.jussieu.fr/mailman/roster/aspic">Liste des
abonnés</a>

<!-- le slash de fin de ".../aspic/" est important! -->
<li><a href="http://www.ann.jussieu.fr/mailman/private/aspic/">Archives</a>

</ul>

</ul>

<h2>Comment télécharger et modifier A.S.P.I.C</h2>

<p><a href="http://www.ann.jussieu.fr/gratuit.htm#CVS">CVS</a>
mémorise l'historique des versions et facilite la fusion des
développements faits par des personnes différentes. Mais si vous êtes
certain de ne jamais avoir à modifier le logiciel, vous pouvez en
obtenir une copie sans passer par CVS, simplement en la demandant par
email.

<h3>1°/ Ouvrir un compte au Laboratoire Jacques-Louis Lions</h3>

<p>Pour ouvrir un compte, merci d'envoyer une clé publique SSH par
email à Antoine Le Hyaric (<a
href="mailto:lehyaric@ann.jussieu.fr">lehyaric@ann.jussieu.fr</a>) (La
commande pour créer une clé SSH est <tt>"ssh-keygen -t dsa -f
~/.ssh/aspic"</tt>. La clé publique est alors le contenu du fichier
<tt>"~/.ssh/aspic.pub"</tt>.

<p><u>Note:</u> Il est fortement conseillé de toujours protéger une
clé SSH avec un mot de passe.

<h3>2°/ Créer une copie de travail</h3>

<p>Le fichier <tt>"~/.ssh/config"</tt> doit contenir&nbsp;:

<pre>
Host sas.ann.jussieu.fr
	ForwardAgent yes
	ForwardX11 no
</pre>

<p>Les commandes&nbsp;:
<ul>

<li><tt>eval `ssh-agent`</tt>

<li><tt>export&nbsp;CVSROOT=:ext:&lt;utilisateur&gt;@sas.ann.jussieu.fr:/home/aspic/cvs</tt>

<li><tt>export&nbsp;CVS_RSH=ssh</tt>

<li><tt>ssh-add&nbsp;~/.ssh/aspic</tt>

<li><tt>cd&nbsp;&lt;répertoire&nbsp;de&nbsp;votre&nbsp;choix&gt;</tt>

<li><tt>cvs&nbsp;checkout&nbsp;A.S.P.I.C</tt>

</ul>

<p>créent une copie de travail compilable et modifiable avec les outils
habituels dans <tt>"&lt;répertoire de votre choix&gt;/A.S.P.I.C"</tt>.

<p><u>Note:</u> Si vous avez déjà modifié le logiciel avant de vous
connecter à CVS, merci de vous reporter au paragraphe <a
href="#outsidecvs">"Comment ajouter des modifications faites en
dehors de CVS"</a>.

<p><u>Note:</u> Depuis l'intérieur du Laboratoire Jacques-Louis Lions,
remplacez <tt>sas.ann.jussieu.fr</tt> par
<tt>buis.ann.jussieu.fr</tt>.

<h3><a name="qualite">3°/ Règles de développement</a></h3>

<ul>
<li>Pour comprendre la structure du logiciel et déterminer où
programmer vos modifications, les premières sources d'information sont
le <a href="documentation">Guide de l'utilisateur</a> et le <a
href="documentation/API/html">Guide du développeur</a>. Si ces
documents ne répondent pas à vos questions, envoyez un email à la <a
href="http://www.ann.jussieu.fr/mailman/listinfo/aspic">liste de
discussion entre développeurs</a> ou directement à <a
href="mailto:lehyaric@ann.jussieu.fr">Antoine Le Hyaric</a>.

<li>Dans vos développements, gardez le format et l'esprit des fichiers
de référence suivants&nbsp;:

<ul>

<li><a
href="http://www.ann.jussieu.fr/A.S.P.I.C/documentation/API/html/atom_8h-source.html">A.S.P.I.C/src/libchemics/src/atom.h</a>

<li><a
href="http://www.ann.jussieu.fr/A.S.P.I.C/documentation/API/html/atom_8cpp-source.html">A.S.P.I.C/src/libchemics/src/atom.cpp</a>

</ul>

<li>Veillez à mettre votre copie de travail à jour (<tt>"cvs
update"</tt>) régulièrement, et à enregistrer vos modifications dans
CVS dès que vos développements sont cohérents (si vous attendez, vos
modifications seront trop importantes, et les autres développeurs
auront plus de mal à les adapter à leur travail).

<li>Identifiez le plus rapidement possible des interfaces stables dans
les classes C++. Vous aurez alors moins de travail pour adapter votre
code aux modifications des autres développeurs (à condition bien sûr
qu'ils respectent eux-aussi la stabilité des mêmes interfaces).

<li>Développez des programmes de test pour chaque nouvelle
fonctionalité. Nous ajouterons dès que possible des "tests de
non-régression".

</ul>

<h3>4°/ Enregistrer vos modifications</h3>

<p>Merci de vous reporter au paragraphe <a
href="#enregistrer">"Enregistrer vos modifications dans CVS"</a>.

<h2><a name="outsidecvs">Comment ajouter des modifications
faites en dehors de CVS</a></h2>

<h3>1°/ Avec quelle version du logiciel travaillez-vous?</h3>

<p>Pour que CVS comprenne quelles modifications vous avez faites dans
le code ASPIC, il doit comparer votre version modifiée à votre version
de départ. Il faut donc retrouver cette version de départ dans la base
CVS. <tt>"cvs checkout -d &lt;jjmmaa&gt; -D &lt;aaaammjj&gt;
A.S.P.I.C"</tt> crée une image du logiciel à la date jj/mm/aa dans le
répertoire &lt;jjmmaa&gt;.

<p><u>Note:</u> Il faut ABSOLUMENT être sûr de la date choisie avant
de continuer. Au besoin, testez plusieurs dates différentes. N'hésitez
pas à contacter <a href="mailto:lehyaric@ann.jussieu.fr">Antoine Le
Hyaric</a> si nécessaire.

<h3>2°/ Créer une copie de travail</h3>

<p>Une fois que vous possédez la copie de travail CVS dans
&lt;jjmmaa&gt;, il suffit de copier vos fichiers modifiés à leur place
dans le même répertoire (par exemple avec <tt>"cp -rp &lt;répertoire
contenant les modifications&gt; &lt;jjmmaa&gt;"</tt>).

<p>Dans le répertoire &lt;jjmmaa&gt;, la commande <tt>cvs update</tt>
vous indiquera tous les fichiers modifiés (caractère "M") ou inconnus
(caractère "?"). Ajoutez (avec <tt>cvs add</tt>) ou ignorez (en les
citant dans un fichier <tt>.cvsignore</tt>) tous les fichiers
inconnus. <tt>cvs update</tt> ne doit plus indiquer aucun "?".

<p><u>Note:</u> 

<h3>3°/ Enregistrer vos modifications</h3>

<p>Merci de vous reporter au paragraphe <a
href="#enregistrer">"Enregistrer vos modifications dans CVS"</a>
ci-dessous.

<h2><a name="enregistrer">Enregistrer vos modifications dans CVS</a></h2>

<p>L'enregistrement des nouvelles contributions permet à tous les
développeurs de profiter du travail de chacun. Pour enregistrer vos
modifications dans CVS, envoyez une archive (un fichier
<tt>.tar.gz</tt>) par email à <a
href="mailto:lehyaric@ann.jussieu.fr">Antoine Le Hyaric</a>, qui
procèdera à l'enregistrement après avoir vérifié les deux critères
suivants&nbsp;: <ul>

<li>Conserver la qualité du code produit par François Lodier (voir <a
href="#qualite">"Règles de développement"</a>).

<li>Résoudre les contradictions entre modifications faites par des
personnes différentes.

</ul>

<p>Tous les emails seront traités rapidement afin de ne pas alourdir
la procédure (Plus tard, si tout se passe bien, chaque développeur
pourra utiliser directement la commande <tt>cvs commit</tt>).

<p>Une fois vos modifications enregistrées dans la base CVS, les
autres développeurs les récupèrent avec la commande <tt>cvs
update</tt>.

<h2>Historique</h2>

<h3>9/2/7</h3>

<p>La version 1.1.3 (finale) de François Lodier et le travail de
Frédéric LEGOLL sont en ligne.

<h3>28/3/6</h3>

<p>Les copies de travail des développeurs sont en cours de
resynchronisation avec la base CVS.

<h3>16/2/6</h3>

<p>Mise en ligne du site Web et de la base CVS.

<h3>14/2/6</h3>

<p>Création du site Web d'information sur le développement du logiciel
A.S.P.I.C <a
href="http://www.ann.jussieu.fr/A.S.P.I.C">http://www.ann.jussieu.fr/A.S.P.I.C</a>

<h3>13/2/6</h3>

<p>Installation de la base CVS de François Lodier sur un serveur
accessible par tous.

<h3>27/1/6</h3>

<p>Création de la <a
href="http://www.ann.jussieu.fr/mailman/listinfo/aspic">liste de
discussion entre développeurs</a>.

</body>
</html>
